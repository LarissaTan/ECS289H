<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Visualization L1–L4 Explorer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
<div class="app">
  <div class="header">
    <div class="title">
      <h1>Chart Gallery · L1–L4 Notebook</h1>
      <p>Click a chart → sticky preview on the left, GPT vs Gemini L1–L4 on the right.</p>
    </div>
  </div>

  <!-- GALLERY VIEW -->
  <section id="gallery-view" class="view">
    <p class="gallery-intro">
      Select a visualization to compare GPT and Gemini explanations.
    </p>
    <div id="gallery-grid"></div>
  </section>

  <!-- DETAIL VIEW -->
  <section id="detail-view" class="view hidden">
    <div class="back-row">
      <button class="back-btn" id="back-btn">← Back to gallery</button>
      <span id="detail-label" class="detail-label"></span>
    </div>

    <div class="detail-layout">
      <!-- 左侧 sticky 图 -->
      <div class="detail-sticky">
        <div class="detail-card">
          <img id="detail-image" src="" alt="selected visualization" />
          <div class="detail-meta">
            <span id="detail-id">vis ???</span>
            <span id="detail-note">Scroll inside each level to see GPT &amp; Gemini overlays ↓</span>
          </div>
        </div>
      </div>

      <!-- 右侧 L1–L4 -->
      <div class="levels" id="levels">

        <!-- 通用组件：四个 level 结构一样，只是 id / data-scroll-level 不同 -->

        <!-- L1 -->
        <article class="level" data-level="L1">
          <div class="level-tag">LEVEL 1</div>
          <h3>L1 · Chart Construction</h3>

          <div class="lvl-scrolly stage-split" data-scroll-level="L1">
            <div class="lvl-sticky">
              <div class="lvl-card lvl-card-gpt">
                <div class="lvl-card-label">ChatGPT</div>
                <p id="text-L1-gpt"></p>
              </div>
              <div class="lvl-card lvl-card-gemini">
                <div class="lvl-card-label">Gemini</div>
                <p id="text-L1-gemini"></p>
              </div>
            </div>

            <div class="lvl-stage" data-stage="split"></div>
            <div class="lvl-stage" data-stage="overlap"></div>
            <div class="lvl-stage" data-stage="extra">
              <div class="lvl-extra-wrapper">
                <h4>
                  Entailment status:
                  <span class="entailment-label" data-extra-level="L1">–</span>
                </h4>
                <p class="entailment-comment" data-extra-level="L1">
                  <!-- human note will go here -->
                </p>
              </div>
            </div>
          </div>
        </article>

        <!-- L2 -->
        <article class="level" data-level="L2">
          <div class="level-tag">LEVEL 2</div>
          <h3>L2 · Key Relations</h3>

          <div class="lvl-scrolly stage-split" data-scroll-level="L2">
            <div class="lvl-sticky">
              <div class="lvl-card lvl-card-gpt">
                <div class="lvl-card-label">ChatGPT</div>
                <p id="text-L2-gpt"></p>
              </div>
              <div class="lvl-card lvl-card-gemini">
                <div class="lvl-card-label">Gemini</div>
                <p id="text-L2-gemini"></p>
              </div>
            </div>

            <div class="lvl-stage" data-stage="split"></div>
            <div class="lvl-stage" data-stage="overlap"></div>
            <div class="lvl-stage" data-stage="extra">
              <div class="lvl-extra-wrapper">
                <h4>
                  Entailment status:
                  <span class="entailment-label" data-extra-level="L2">–</span>
                </h4>
                <p class="entailment-comment" data-extra-level="L2"></p>
              </div>
            </div>
          </div>
        </article>

        <!-- L3 -->
        <article class="level" data-level="L3">
          <div class="level-tag">LEVEL 3</div>
          <h3>L3 · Trend / Pattern</h3>

          <div class="lvl-scrolly stage-split" data-scroll-level="L3">
            <div class="lvl-sticky">
              <div class="lvl-card lvl-card-gpt">
                <div class="lvl-card-label">ChatGPT</div>
                <p id="text-L3-gpt"></p>
              </div>
              <div class="lvl-card lvl-card-gemini">
                <div class="lvl-card-label">Gemini</div>
                <p id="text-L3-gemini"></p>
              </div>
            </div>

            <div class="lvl-stage" data-stage="split"></div>
            <div class="lvl-stage" data-stage="overlap"></div>
            <div class="lvl-stage" data-stage="extra">
              <div class="lvl-extra-wrapper">
                <h4>
                  Entailment status:
                  <span class="entailment-label" data-extra-level="L3">–</span>
                </h4>
                <p class="entailment-comment" data-extra-level="L3"></p>
              </div>
            </div>
          </div>
        </article>

        <!-- L4 -->
        <article class="level" data-level="L4">
          <div class="level-tag">LEVEL 4</div>
          <h3>L4 · Real-world Meaning</h3>

          <div class="lvl-scrolly stage-split" data-scroll-level="L4">
            <div class="lvl-sticky">
              <div class="lvl-card lvl-card-gpt">
                <div class="lvl-card-label">ChatGPT</div>
                <p id="text-L4-gpt"></p>
              </div>
              <div class="lvl-card lvl-card-gemini">
                <div class="lvl-card-label">Gemini</div>
                <p id="text-L4-gemini"></p>
              </div>
            </div>

            <div class="lvl-stage" data-stage="split"></div>
            <div class="lvl-stage" data-stage="overlap"></div>
            <div class="lvl-stage" data-stage="extra">
              <div class="lvl-extra-wrapper">
                <h4>
                  Entailment status:
                  <span class="entailment-label" data-extra-level="L4">–</span>
                </h4>
                <p class="entailment-comment" data-extra-level="L4"></p>
              </div>
            </div>
          </div>
        </article>

      </div>
    </div>
  </section>
</div>

<script src="script.js"></script>
</body>
</html>
